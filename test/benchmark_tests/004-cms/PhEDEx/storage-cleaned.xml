<storage-mapping>

  <!-- Map special HammerCloud dataset for Middleware Readiness testing to EOSPPS -->
  <lfn-to-pfn protocol="rfio"
    path-match="/+store/mc/HCtest/GenericTTbar/GEN-SIM-RECO/CMSSW_7_0_4_START70_V7-v1/(.*)"
    result="root://eospps//eos/pps/mw-test/phedex/store/mc/HCtest/GenericTTbar/GEN-SIM-RECO/CMSSW_7_0_4_START70_V7-v1/$1"/>
  <lfn-to-pfn protocol="stageout"
    path-match="/+store/mc/HCtest/GenericTTbar/GEN-SIM-RECO/CMSSW_7_0_4_START70_V7-v1/(.*)"
    result="root://eospps//eos/pps/mw-test/phedex/store/mc/HCtest/GenericTTbar/GEN-SIM-RECO/CMSSW_7_0_4_START70_V7-v1/$1"/>

  <!-- Map any LFN with /store/t0streamer to xrootd on t0streamer -->
  <lfn-to-pfn  protocol="rfio"
    path-match="/+store/t0streamer/(.*)"
    result="root://castorcms//castor/cern.ch/cms/store/t0streamer/$1?svcClass=t0streamer&amp;stageHost=castorcms"/>
  <lfn-to-pfn  protocol="stageout"
    path-match="/+store/t0streamer/(.*)"
    result="rfio://castorcms//castor/cern.ch/cms/store/t0streamer/$1?svcClass=t0streamer"/>

  <!-- Map pretend LFN /user to CASTOR User Space -->
  <lfn-to-pfn protocol="rfio"
    path-match="^/+user/(.*)"
    result="root://castorcms//castor/cern.ch/user/$1?svcClass=default"/>

  <!-- Map any LFN with /store/ to xrootd on EOS -->
  <lfn-to-pfn protocol="rfio"
    path-match="/+store/(.*)"
    result="root://eoscms//eos/cms/store/$1"/>
  <lfn-to-pfn protocol="stageout"
    path-match="/+store/(.*)"
    result="root://eoscms//eos/cms/store/$1"/>

  <lfn-to-pfn protocol="srmv2"
    path-match="/+store/user/(.*)"
    result="srm://srm-eoscms.cern.ch:8443/srm/v2/server?SFN=/eos/cms/store/user/$1"/>
  <lfn-to-pfn protocol="srmv2"
    path-match="/+store/group/(.*)"
    result="srm://srm-eoscms.cern.ch:8443/srm/v2/server?SFN=/eos/cms/store/group/$1"/>

  <!-- Xrootd fallback rules -->
  <lfn-to-pfn protocol="xrootd" destination-match=".*"
   path-match="/+store/(.*)"
   result="root://xrootd-cms.infn.it//store/$1"/>
  
  <!-- Reverse rules -->
  <pfn-to-lfn protocol="rfio"
    path-match="root://eoscms//eos/cms/store/(.*)"
    result="/store/$1"/>
  <pfn-to-lfn protocol="stageout"
    path-match="root://eoscms//eos/cms/store/(.*)"
    result="/store/$1"/>
  <pfn-to-lfn protocol="srmv2" 
    path-match=".*\?SFN=/eos/cms(.*)"
    result="$1"/>

</storage-mapping>
